<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This manual describes how to install and use the GNU multiple precision
arithmetic library, version 6.2.1.

Copyright 1991, 1993-2016, 2018-2020 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual", and with the Back-Cover
Texts being "You have freedom to copy and modify this GNU Manual, like GNU
software".  A copy of the license is included in
GNU Free Documentation License. -->
<title>Build Options (GNU MP 6.2.1)</title>

<meta name="description" content="How to install and use the GNU multiple precision arithmetic library, version 6.2.1.">
<meta name="keywords" content="Build Options (GNU MP 6.2.1)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="Installing-GMP.html" rel="up" title="Installing GMP">
<link href="ABI-and-ISA.html" rel="next" title="ABI and ISA">
<link href="Installing-GMP.html" rel="prev" title="Installing GMP">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Build-Options">
<div class="nav-panel">
<p>
Next: <a href="ABI-and-ISA.html" accesskey="n" rel="next">ABI and ISA</a>, Previous: <a href="Installing-GMP.html" accesskey="p" rel="prev">Installing GMP</a>, Up: <a href="Installing-GMP.html" accesskey="u" rel="up">Installing GMP</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Build-Options-1">2.1 Build Options</h3>
<a class="index-entry-id" id="index-Build-options"></a>

<p>All the usual autoconf configure options are available, run &lsquo;<samp class="samp">./configure
--help</samp>&rsquo; for a summary.  The file <samp class="file">INSTALL.autoconf</samp> has some generic
installation information too.
</p>
<dl class="table">
<dt id='index-Non_002dUnix-systems'><span>Tools<a class="copiable-link" href='#index-Non_002dUnix-systems'> &para;</a></span></dt>
<dd><p>&lsquo;<samp class="samp">configure</samp>&rsquo; requires various Unix-like tools.  See <a class="ref" href="Notes-for-Particular-Systems.html">Notes for Particular Systems</a>, for some options on non-Unix systems.
</p>
<p>It might be possible to build without the help of &lsquo;<samp class="samp">configure</samp>&rsquo;, certainly
all the code is there, but unfortunately you&rsquo;ll be on your own.
</p>
</dd>
<dt id='index-Build-directory'><span>Build Directory<a class="copiable-link" href='#index-Build-directory'> &para;</a></span></dt>
<dd><p>To compile in a separate build directory, <code class="command">cd</code> to that directory, and
prefix the configure command with the path to the GMP source directory.  For
example
</p>
<div class="example">
<pre class="example-preformatted">cd /my/build/dir
/my/sources/gmp-6.2.1/configure
</pre></div>

<p>Not all &lsquo;<samp class="samp">make</samp>&rsquo; programs have the necessary features (<code class="code">VPATH</code>) to
support this.  In particular, SunOS and Slowaris <code class="command">make</code> have bugs that
make them unable to build in a separate directory.  Use GNU <code class="command">make</code>
instead.
</p>
</dd>
<dt id='index-Prefix'><span><samp class="option">--prefix</samp> and <samp class="option">--exec-prefix</samp><a class="copiable-link" href='#index-Prefix'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Exec-prefix"></a>
<a class="index-entry-id" id="index-Install-prefix"></a>
<a class="index-entry-id" id="index-_002d_002dprefix"></a>
<a class="index-entry-id" id="index-_002d_002dexec_002dprefix"></a>
<p>The <samp class="option">--prefix</samp> option can be used in the normal way to direct GMP to
install under a particular tree.  The default is &lsquo;<samp class="samp">/usr/local</samp>&rsquo;.
</p>
<p><samp class="option">--exec-prefix</samp> can be used to direct architecture-dependent files like
<samp class="file">libgmp.a</samp> to a different location.  This can be used to share
architecture-independent parts like the documentation, but separate the
dependent parts.  Note however that <samp class="file">gmp.h</samp> is
architecture-dependent since it encodes certain aspects of <samp class="file">libgmp</samp>, so
it will be necessary to ensure both <samp class="file">$prefix/include</samp> and
<samp class="file">$exec_prefix/include</samp> are available to the compiler.
</p>
</dd>
<dt id='index-_002d_002ddisable_002dshared'><span><samp class="option">--disable-shared</samp>, <samp class="option">--disable-static</samp><a class="copiable-link" href='#index-_002d_002ddisable_002dshared'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002ddisable_002dstatic"></a>
<p>By default both shared and static libraries are built (where possible), but
one or other can be disabled.  Shared libraries result in smaller executables
and permit code sharing between separate running processes, but on some CPUs
are slightly slower, having a small cost on each function call.
</p>
</dd>
<dt id='index-Native-compilation'><span>Native Compilation, <samp class="option">--build=CPU-VENDOR-OS</samp><a class="copiable-link" href='#index-Native-compilation'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Build-system"></a>
<a class="index-entry-id" id="index-_002d_002dbuild"></a>
<p>For normal native compilation, the system can be specified with
&lsquo;<samp class="samp">--build</samp>&rsquo;.  By default &lsquo;<samp class="samp">./configure</samp>&rsquo; uses the output from running
&lsquo;<samp class="samp">./config.guess</samp>&rsquo;.  On some systems &lsquo;<samp class="samp">./config.guess</samp>&rsquo; can determine
the exact CPU type, on others it will be necessary to give it explicitly.  For
example,
</p>
<div class="example">
<pre class="example-preformatted">./configure --build=ultrasparc-sun-solaris2.7
</pre></div>

<p>In all cases the &lsquo;<samp class="samp">OS</samp>&rsquo; part is important, since it controls how libtool
generates shared libraries.  Running &lsquo;<samp class="samp">./config.guess</samp>&rsquo; is the simplest way
to see what it should be, if you don&rsquo;t know already.
</p>
</dd>
<dt id='index-Cross-compiling'><span>Cross Compilation, <samp class="option">--host=CPU-VENDOR-OS</samp><a class="copiable-link" href='#index-Cross-compiling'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Host-system"></a>
<a class="index-entry-id" id="index-_002d_002dhost"></a>
<p>When cross-compiling, the system used for compiling is given by &lsquo;<samp class="samp">--build</samp>&rsquo;
and the system where the library will run is given by &lsquo;<samp class="samp">--host</samp>&rsquo;.  For
example when using a FreeBSD Athlon system to build GNU/Linux m68k binaries,
</p>
<div class="example">
<pre class="example-preformatted">./configure --build=athlon-pc-freebsd3.5 --host=m68k-mac-linux-gnu
</pre></div>

<p>Compiler tools are sought first with the host system type as a prefix.  For
example <code class="command">m68k-mac-linux-gnu-ranlib</code> is tried, then plain
<code class="command">ranlib</code>.  This makes it possible for a set of cross-compiling tools
to co-exist with native tools.  The prefix is the argument to &lsquo;<samp class="samp">--host</samp>&rsquo;,
and this can be an alias, such as &lsquo;<samp class="samp">m68k-linux</samp>&rsquo;.  But note that tools
don&rsquo;t have to be setup this way, it&rsquo;s enough to just have a <code class="env">PATH</code> with a
suitable cross-compiling <code class="command">cc</code> etc.
</p>
<p>Compiling for a different CPU in the same family as the build system is a form
of cross-compilation, though very possibly this would merely be special
options on a native compiler.  In any case &lsquo;<samp class="samp">./configure</samp>&rsquo; avoids depending
on being able to run code on the build system, which is important when
creating binaries for a newer CPU since they very possibly won&rsquo;t run on the
build system.
</p>
<p>In all cases the compiler must be able to produce an executable (of whatever
format) from a standard C <code class="code">main</code>.  Although only object files will go to
make up <samp class="file">libgmp</samp>, &lsquo;<samp class="samp">./configure</samp>&rsquo; uses linking tests for various
purposes, such as determining what functions are available on the host system.
</p>
<p>Currently a warning is given unless an explicit &lsquo;<samp class="samp">--build</samp>&rsquo; is used when
cross-compiling, because it may not be possible to correctly guess the build
system type if the <code class="env">PATH</code> has only a cross-compiling <code class="command">cc</code>.
</p>
<p>Note that the &lsquo;<samp class="samp">--target</samp>&rsquo; option is not appropriate for GMP.  It&rsquo;s for use
when building compiler tools, with &lsquo;<samp class="samp">--host</samp>&rsquo; being where they will run,
and &lsquo;<samp class="samp">--target</samp>&rsquo; what they&rsquo;ll produce code for.  Ordinary programs or
libraries like GMP are only interested in the &lsquo;<samp class="samp">--host</samp>&rsquo; part, being where
they&rsquo;ll run.  (Some past versions of GMP used &lsquo;<samp class="samp">--target</samp>&rsquo; incorrectly.)
</p>
</dd>
<dt id='index-CPU-types-1'><span>CPU types<a class="copiable-link" href='#index-CPU-types-1'> &para;</a></span></dt>
<dd><p>In general, if you want a library that runs as fast as possible, you should
configure GMP for the exact CPU type your system uses.  However, this may mean
the binaries won&rsquo;t run on older members of the family, and might run slower on
other members, older or newer.  The best idea is always to build GMP for the
exact machine type you intend to run it on.
</p>
<p>The following CPUs have specific support.  See <samp class="file">configure.ac</samp> for details
of what code and compiler options they select.
</p>
<ul class="itemize mark-bullet">
<li>Alpha:
&lsquo;<samp class="samp">alpha</samp>&rsquo;,
&lsquo;<samp class="samp">alphaev5</samp>&rsquo;,
&lsquo;<samp class="samp">alphaev56</samp>&rsquo;,
&lsquo;<samp class="samp">alphapca56</samp>&rsquo;,
&lsquo;<samp class="samp">alphapca57</samp>&rsquo;,
&lsquo;<samp class="samp">alphaev6</samp>&rsquo;,
&lsquo;<samp class="samp">alphaev67</samp>&rsquo;,
&lsquo;<samp class="samp">alphaev68</samp>&rsquo;
&lsquo;<samp class="samp">alphaev7</samp>&rsquo;

</li><li>Cray:
&lsquo;<samp class="samp">c90</samp>&rsquo;,
&lsquo;<samp class="samp">j90</samp>&rsquo;,
&lsquo;<samp class="samp">t90</samp>&rsquo;,
&lsquo;<samp class="samp">sv1</samp>&rsquo;

</li><li>HPPA:
&lsquo;<samp class="samp">hppa1.0</samp>&rsquo;,
&lsquo;<samp class="samp">hppa1.1</samp>&rsquo;,
&lsquo;<samp class="samp">hppa2.0</samp>&rsquo;,
&lsquo;<samp class="samp">hppa2.0n</samp>&rsquo;,
&lsquo;<samp class="samp">hppa2.0w</samp>&rsquo;,
&lsquo;<samp class="samp">hppa64</samp>&rsquo;

</li><li>IA-64:
&lsquo;<samp class="samp">ia64</samp>&rsquo;,
&lsquo;<samp class="samp">itanium</samp>&rsquo;,
&lsquo;<samp class="samp">itanium2</samp>&rsquo;

</li><li>MIPS:
&lsquo;<samp class="samp">mips</samp>&rsquo;,
&lsquo;<samp class="samp">mips3</samp>&rsquo;,
&lsquo;<samp class="samp">mips64</samp>&rsquo;

</li><li>Motorola:
&lsquo;<samp class="samp">m68k</samp>&rsquo;,
&lsquo;<samp class="samp">m68000</samp>&rsquo;,
&lsquo;<samp class="samp">m68010</samp>&rsquo;,
&lsquo;<samp class="samp">m68020</samp>&rsquo;,
&lsquo;<samp class="samp">m68030</samp>&rsquo;,
&lsquo;<samp class="samp">m68040</samp>&rsquo;,
&lsquo;<samp class="samp">m68060</samp>&rsquo;,
&lsquo;<samp class="samp">m68302</samp>&rsquo;,
&lsquo;<samp class="samp">m68360</samp>&rsquo;,
&lsquo;<samp class="samp">m88k</samp>&rsquo;,
&lsquo;<samp class="samp">m88110</samp>&rsquo;

</li><li>POWER:
&lsquo;<samp class="samp">power</samp>&rsquo;,
&lsquo;<samp class="samp">power1</samp>&rsquo;,
&lsquo;<samp class="samp">power2</samp>&rsquo;,
&lsquo;<samp class="samp">power2sc</samp>&rsquo;

</li><li>PowerPC:
&lsquo;<samp class="samp">powerpc</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc64</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc401</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc403</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc405</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc505</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc601</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc602</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc603</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc603e</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc604</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc604e</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc620</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc630</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc740</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc7400</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc7450</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc750</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc801</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc821</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc823</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc860</samp>&rsquo;,
&lsquo;<samp class="samp">powerpc970</samp>&rsquo;

</li><li>SPARC:
&lsquo;<samp class="samp">sparc</samp>&rsquo;,
&lsquo;<samp class="samp">sparcv8</samp>&rsquo;,
&lsquo;<samp class="samp">microsparc</samp>&rsquo;,
&lsquo;<samp class="samp">supersparc</samp>&rsquo;,
&lsquo;<samp class="samp">sparcv9</samp>&rsquo;,
&lsquo;<samp class="samp">ultrasparc</samp>&rsquo;,
&lsquo;<samp class="samp">ultrasparc2</samp>&rsquo;,
&lsquo;<samp class="samp">ultrasparc2i</samp>&rsquo;,
&lsquo;<samp class="samp">ultrasparc3</samp>&rsquo;,
&lsquo;<samp class="samp">sparc64</samp>&rsquo;

</li><li>x86 family:
&lsquo;<samp class="samp">i386</samp>&rsquo;,
&lsquo;<samp class="samp">i486</samp>&rsquo;,
&lsquo;<samp class="samp">i586</samp>&rsquo;,
&lsquo;<samp class="samp">pentium</samp>&rsquo;,
&lsquo;<samp class="samp">pentiummmx</samp>&rsquo;,
&lsquo;<samp class="samp">pentiumpro</samp>&rsquo;,
&lsquo;<samp class="samp">pentium2</samp>&rsquo;,
&lsquo;<samp class="samp">pentium3</samp>&rsquo;,
&lsquo;<samp class="samp">pentium4</samp>&rsquo;,
&lsquo;<samp class="samp">k6</samp>&rsquo;,
&lsquo;<samp class="samp">k62</samp>&rsquo;,
&lsquo;<samp class="samp">k63</samp>&rsquo;,
&lsquo;<samp class="samp">athlon</samp>&rsquo;,
&lsquo;<samp class="samp">amd64</samp>&rsquo;,
&lsquo;<samp class="samp">viac3</samp>&rsquo;,
&lsquo;<samp class="samp">viac32</samp>&rsquo;

</li><li>Other:
&lsquo;<samp class="samp">arm</samp>&rsquo;,
&lsquo;<samp class="samp">sh</samp>&rsquo;,
&lsquo;<samp class="samp">sh2</samp>&rsquo;,
&lsquo;<samp class="samp">vax</samp>&rsquo;,
</li></ul>

<p>CPUs not listed will use generic C code.
</p>
</dd>
<dt id='index-Generic-C'><span>Generic C Build<a class="copiable-link" href='#index-Generic-C'> &para;</a></span></dt>
<dd><p>If some of the assembly code causes problems, or if otherwise desired, the
generic C code can be selected with the configure <samp class="option">--disable-assembly</samp>.
</p>
<p>Note that this will run quite slowly, but it should be portable and should at
least make it possible to get something running if all else fails.
</p>
</dd>
<dt id='index-Fat-binary'><span>Fat binary, <samp class="option">--enable-fat</samp><a class="copiable-link" href='#index-Fat-binary'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002denable_002dfat"></a>
<p>Using <samp class="option">--enable-fat</samp> selects a &ldquo;fat binary&rdquo; build on x86, where
optimized low level subroutines are chosen at runtime according to the CPU
detected.  This means more code, but gives good performance on all x86 chips.
(This option might become available for more architectures in the future.)
</p>
</dd>
<dt id='index-ABI'><span><samp class="option">ABI</samp><a class="copiable-link" href='#index-ABI'> &para;</a></span></dt>
<dd><p>On some systems GMP supports multiple ABIs (application binary interfaces),
meaning data type sizes and calling conventions.  By default GMP chooses the
best ABI available, but a particular ABI can be selected.  For example
</p>
<div class="example">
<pre class="example-preformatted">./configure --host=mips64-sgi-irix6 ABI=n32
</pre></div>

<p>See <a class="ref" href="ABI-and-ISA.html">ABI and ISA</a>, for the available choices on relevant CPUs, and what
applications need to do.
</p>
</dd>
<dt id='index-C-compiler'><span><samp class="option">CC</samp>, <samp class="option">CFLAGS</samp><a class="copiable-link" href='#index-C-compiler'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-CC"></a>
<a class="index-entry-id" id="index-CFLAGS"></a>
<p>By default the C compiler used is chosen from among some likely candidates,
with <code class="command">gcc</code> normally preferred if it&rsquo;s present.  The usual
&lsquo;<samp class="samp">CC=whatever</samp>&rsquo; can be passed to &lsquo;<samp class="samp">./configure</samp>&rsquo; to choose something
different.
</p>
<p>For various systems, default compiler flags are set based on the CPU and
compiler.  The usual &lsquo;<samp class="samp">CFLAGS=&quot;-whatever&quot;</samp>&rsquo; can be passed to
&lsquo;<samp class="samp">./configure</samp>&rsquo; to use something different or to set good flags for systems
GMP doesn&rsquo;t otherwise know.
</p>
<p>The &lsquo;<samp class="samp">CC</samp>&rsquo; and &lsquo;<samp class="samp">CFLAGS</samp>&rsquo; used are printed during &lsquo;<samp class="samp">./configure</samp>&rsquo;,
and can be found in each generated <samp class="file">Makefile</samp>.  This is the easiest way
to check the defaults when considering changing or adding something.
</p>
<p>Note that when &lsquo;<samp class="samp">CC</samp>&rsquo; and &lsquo;<samp class="samp">CFLAGS</samp>&rsquo; are specified on a system
supporting multiple ABIs it&rsquo;s important to give an explicit
&lsquo;<samp class="samp">ABI=whatever</samp>&rsquo;, since GMP can&rsquo;t determine the ABI just from the flags and
won&rsquo;t be able to select the correct assembly code.
</p>
<p>If just &lsquo;<samp class="samp">CC</samp>&rsquo; is selected then normal default &lsquo;<samp class="samp">CFLAGS</samp>&rsquo; for that
compiler will be used (if GMP recognises it).  For example &lsquo;<samp class="samp">CC=gcc</samp>&rsquo; can
be used to force the use of GCC, with default flags (and default ABI).
</p>
</dd>
<dt id='index-CPPFLAGS'><span><samp class="option">CPPFLAGS</samp><a class="copiable-link" href='#index-CPPFLAGS'> &para;</a></span></dt>
<dd><p>Any flags like &lsquo;<samp class="samp">-D</samp>&rsquo; defines or &lsquo;<samp class="samp">-I</samp>&rsquo; includes required by the
preprocessor should be set in &lsquo;<samp class="samp">CPPFLAGS</samp>&rsquo; rather than &lsquo;<samp class="samp">CFLAGS</samp>&rsquo;.
Compiling is done with both &lsquo;<samp class="samp">CPPFLAGS</samp>&rsquo; and &lsquo;<samp class="samp">CFLAGS</samp>&rsquo;, but
preprocessing uses just &lsquo;<samp class="samp">CPPFLAGS</samp>&rsquo;.  This distinction is because most
preprocessors won&rsquo;t accept all the flags the compiler does.  Preprocessing is
done separately in some configure tests.
</p>
</dd>
<dt id='index-CC_005fFOR_005fBUILD'><span><samp class="option">CC_FOR_BUILD</samp><a class="copiable-link" href='#index-CC_005fFOR_005fBUILD'> &para;</a></span></dt>
<dd><p>Some build-time programs are compiled and run to generate host-specific data
tables.  &lsquo;<samp class="samp">CC_FOR_BUILD</samp>&rsquo; is the compiler used for this.  It doesn&rsquo;t need
to be in any particular ABI or mode, it merely needs to generate executables
that can run.  The default is to try the selected &lsquo;<samp class="samp">CC</samp>&rsquo; and some likely
candidates such as &lsquo;<samp class="samp">cc</samp>&rsquo; and &lsquo;<samp class="samp">gcc</samp>&rsquo;, looking for something that works.
</p>
<p>No flags are used with &lsquo;<samp class="samp">CC_FOR_BUILD</samp>&rsquo; because a simple invocation like
&lsquo;<samp class="samp">cc foo.c</samp>&rsquo; should be enough.  If some particular options are required
they can be included as for instance &lsquo;<samp class="samp">CC_FOR_BUILD=&quot;cc -whatever&quot;</samp>&rsquo;.
</p>
</dd>
<dt id='index-C_002b_002b-support'><span>C++ Support, <samp class="option">--enable-cxx</samp><a class="copiable-link" href='#index-C_002b_002b-support'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002denable_002dcxx"></a>
<p>C++ support in GMP can be enabled with &lsquo;<samp class="samp">--enable-cxx</samp>&rsquo;, in which case a
C++ compiler will be required.  As a convenience &lsquo;<samp class="samp">--enable-cxx=detect</samp>&rsquo;
can be used to enable C++ support only if a compiler can be found.  The C++
support consists of a library <samp class="file">libgmpxx.la</samp> and header file
<samp class="file">gmpxx.h</samp> (see <a class="pxref" href="Headers-and-Libraries.html">Headers and Libraries</a>).
</p>
<p>A separate <samp class="file">libgmpxx.la</samp> has been adopted rather than having C++ objects
within <samp class="file">libgmp.la</samp> in order to ensure dynamic linked C programs aren&rsquo;t
bloated by a dependency on the C++ standard library, and to avoid any chance
that the C++ compiler could be required when linking plain C programs.
</p>
<p><samp class="file">libgmpxx.la</samp> will use certain internals from <samp class="file">libgmp.la</samp> and can
only be expected to work with <samp class="file">libgmp.la</samp> from the same GMP version.
Future changes to the relevant internals will be accompanied by renaming, so a
mismatch will cause unresolved symbols rather than perhaps mysterious
misbehaviour.
</p>
<p>In general <samp class="file">libgmpxx.la</samp> will be usable only with the C++ compiler that
built it, since name mangling and runtime support are usually incompatible
between different compilers.
</p>
</dd>
<dt id='index-C_002b_002b-compiler'><span><samp class="option">CXX</samp>, <samp class="option">CXXFLAGS</samp><a class="copiable-link" href='#index-C_002b_002b-compiler'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-CXX"></a>
<a class="index-entry-id" id="index-CXXFLAGS"></a>
<p>When C++ support is enabled, the C++ compiler and its flags can be set with
variables &lsquo;<samp class="samp">CXX</samp>&rsquo; and &lsquo;<samp class="samp">CXXFLAGS</samp>&rsquo; in the usual way.  The default for
&lsquo;<samp class="samp">CXX</samp>&rsquo; is the first compiler that works from a list of likely candidates,
with <code class="command">g++</code> normally preferred when available.  The default for
&lsquo;<samp class="samp">CXXFLAGS</samp>&rsquo; is to try &lsquo;<samp class="samp">CFLAGS</samp>&rsquo;, &lsquo;<samp class="samp">CFLAGS</samp>&rsquo; without &lsquo;<samp class="samp">-g</samp>&rsquo;, then
for <code class="command">g++</code> either &lsquo;<samp class="samp">-g -O2</samp>&rsquo; or &lsquo;<samp class="samp">-O2</samp>&rsquo;, or for other compilers
&lsquo;<samp class="samp">-g</samp>&rsquo; or nothing.  Trying &lsquo;<samp class="samp">CFLAGS</samp>&rsquo; this way is convenient when using
&lsquo;<samp class="samp">gcc</samp>&rsquo; and &lsquo;<samp class="samp">g++</samp>&rsquo; together, since the flags for &lsquo;<samp class="samp">gcc</samp>&rsquo; will
usually suit &lsquo;<samp class="samp">g++</samp>&rsquo;.
</p>
<p>It&rsquo;s important that the C and C++ compilers match, meaning their startup and
runtime support routines are compatible and that they generate code in the
same ABI (if there&rsquo;s a choice of ABIs on the system).  &lsquo;<samp class="samp">./configure</samp>&rsquo;
isn&rsquo;t currently able to check these things very well itself, so for that
reason &lsquo;<samp class="samp">--disable-cxx</samp>&rsquo; is the default, to avoid a build failure due to a
compiler mismatch.  Perhaps this will change in the future.
</p>
<p>Incidentally, it&rsquo;s normally not good enough to set &lsquo;<samp class="samp">CXX</samp>&rsquo; to the same as
&lsquo;<samp class="samp">CC</samp>&rsquo;.  Although <code class="command">gcc</code> for instance recognises <samp class="file">foo.cc</samp> as
C++ code, only <code class="command">g++</code> will invoke the linker the right way when
building an executable or shared library from C++ object files.
</p>
</dd>
<dt id='index-Temporary-memory'><span>Temporary Memory, <samp class="option">--enable-alloca=&lt;choice&gt;</samp><a class="copiable-link" href='#index-Temporary-memory'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Stack-overflow"></a>
<a class="index-entry-id" id="index-alloca"></a>
<a class="index-entry-id" id="index-_002d_002denable_002dalloca"></a>
<p>GMP allocates temporary workspace using one of the following three methods,
which can be selected with for instance
&lsquo;<samp class="samp">--enable-alloca=malloc-reentrant</samp>&rsquo;.
</p>
<ul class="itemize mark-bullet">
<li>&lsquo;<samp class="samp">alloca</samp>&rsquo; - C library or compiler builtin.
</li><li>&lsquo;<samp class="samp">malloc-reentrant</samp>&rsquo; - the heap, in a re-entrant fashion.
</li><li>&lsquo;<samp class="samp">malloc-notreentrant</samp>&rsquo; - the heap, with global variables.
</li></ul>

<p>For convenience, the following choices are also available.
&lsquo;<samp class="samp">--disable-alloca</samp>&rsquo; is the same as &lsquo;<samp class="samp">no</samp>&rsquo;.
</p>
<ul class="itemize mark-bullet">
<li>&lsquo;<samp class="samp">yes</samp>&rsquo; - a synonym for &lsquo;<samp class="samp">alloca</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">no</samp>&rsquo; - a synonym for &lsquo;<samp class="samp">malloc-reentrant</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">reentrant</samp>&rsquo; - <code class="code">alloca</code> if available, otherwise
&lsquo;<samp class="samp">malloc-reentrant</samp>&rsquo;.  This is the default.
</li><li>&lsquo;<samp class="samp">notreentrant</samp>&rsquo; - <code class="code">alloca</code> if available, otherwise
&lsquo;<samp class="samp">malloc-notreentrant</samp>&rsquo;.
</li></ul>

<p><code class="code">alloca</code> is reentrant and fast, and is recommended.  It actually allocates
just small blocks on the stack; larger ones use malloc-reentrant.
</p>
<p>&lsquo;<samp class="samp">malloc-reentrant</samp>&rsquo; is, as the name suggests, reentrant and thread safe,
but &lsquo;<samp class="samp">malloc-notreentrant</samp>&rsquo; is faster and should be used if reentrancy is
not required.
</p>
<p>The two malloc methods in fact use the memory allocation functions selected by
<code class="code">mp_set_memory_functions</code>, these being <code class="code">malloc</code> and friends by
default.  See <a class="xref" href="Custom-Allocation.html">Custom Allocation</a>.
</p>
<p>An additional choice &lsquo;<samp class="samp">--enable-alloca=debug</samp>&rsquo; is available, to help when
debugging memory related problems (see <a class="pxref" href="Debugging.html">Debugging</a>).
</p>
</dd>
<dt id='index-FFT-multiplication'><span>FFT Multiplication, <samp class="option">--disable-fft</samp><a class="copiable-link" href='#index-FFT-multiplication'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002ddisable_002dfft"></a>
<p>By default multiplications are done using Karatsuba, 3-way Toom, higher degree
Toom, and Fermat FFT.  The FFT is only used on large to very large operands
and can be disabled to save code size if desired.
</p>
</dd>
<dt id='index-Assertion-checking'><span>Assertion Checking, <samp class="option">--enable-assert</samp><a class="copiable-link" href='#index-Assertion-checking'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002denable_002dassert"></a>
<p>This option enables some consistency checking within the library.  This can be
of use while debugging, see <a class="pxref" href="Debugging.html">Debugging</a>.
</p>
</dd>
<dt id='index-Execution-profiling'><span>Execution Profiling, <samp class="option">--enable-profiling=prof/gprof/instrument</samp><a class="copiable-link" href='#index-Execution-profiling'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-_002d_002denable_002dprofiling"></a>
<p>Enable profiling support, in one of various styles, see <a class="pxref" href="Profiling.html">Profiling</a>.
</p>
</dd>
<dt id='index-MPN_005fPATH'><span><samp class="option">MPN_PATH</samp><a class="copiable-link" href='#index-MPN_005fPATH'> &para;</a></span></dt>
<dd><p>Various assembly versions of each mpn subroutines are provided.  For a given
CPU, a search is made though a path to choose a version of each.  For example
&lsquo;<samp class="samp">sparcv8</samp>&rsquo; has
</p>
<div class="example">
<pre class="example-preformatted">MPN_PATH=&quot;sparc32/v8 sparc32 generic&quot;
</pre></div>

<p>which means look first for v8 code, then plain sparc32 (which is v7), and
finally fall back on generic C.  Knowledgeable users with special requirements
can specify a different path.  Normally this is completely unnecessary.
</p>
</dd>
<dt id='index-Documentation-formats'><span>Documentation<a class="copiable-link" href='#index-Documentation-formats'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Texinfo"></a>
<p>The source for the document you&rsquo;re now reading is <samp class="file">doc/gmp.texi</samp>, in
Texinfo format, see <a data-manual="texinfo" href="https://www.gnu.org/software/texinfo/manual/texinfo/html_node/index.html#Top">Texinfo</a> in <cite class="cite">Texinfo</cite>.
</p>
<a class="index-entry-id" id="index-Postscript"></a>
<a class="index-entry-id" id="index-DVI"></a>
<a class="index-entry-id" id="index-PDF"></a>
<p>Info format &lsquo;<samp class="samp">doc/gmp.info</samp>&rsquo; is included in the distribution.  The usual
automake targets are available to make PostScript, DVI, PDF and HTML (these
will require various TeX and Texinfo tools).
</p>
<a class="index-entry-id" id="index-DocBook"></a>
<a class="index-entry-id" id="index-XML"></a>
<p>DocBook and XML can be generated by the Texinfo <code class="command">makeinfo</code> program
too, see <a data-manual="texinfo" href="https://www.gnu.org/software/texinfo/manual/texinfo/html_node/makeinfo-options.html#makeinfo-options">Options for <code class="command">makeinfo</code></a> in <cite class="cite">Texinfo</cite>.
</p>
<p>Some supplementary notes can also be found in the <samp class="file">doc</samp> subdirectory.
</p>
</dd>
</dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="ABI-and-ISA.html">ABI and ISA</a>, Previous: <a href="Installing-GMP.html">Installing GMP</a>, Up: <a href="Installing-GMP.html">Installing GMP</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
