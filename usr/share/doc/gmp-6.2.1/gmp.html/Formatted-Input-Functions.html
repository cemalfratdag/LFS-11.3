<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This manual describes how to install and use the GNU multiple precision
arithmetic library, version 6.2.1.

Copyright 1991, 1993-2016, 2018-2020 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual", and with the Back-Cover
Texts being "You have freedom to copy and modify this GNU Manual, like GNU
software".  A copy of the license is included in
GNU Free Documentation License. -->
<title>Formatted Input Functions (GNU MP 6.2.1)</title>

<meta name="description" content="How to install and use the GNU multiple precision arithmetic library, version 6.2.1.">
<meta name="keywords" content="Formatted Input Functions (GNU MP 6.2.1)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="Formatted-Input.html" rel="up" title="Formatted Input">
<link href="C_002b_002b-Formatted-Input.html" rel="next" title="C++ Formatted Input">
<link href="Formatted-Input-Strings.html" rel="prev" title="Formatted Input Strings">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Formatted-Input-Functions">
<div class="nav-panel">
<p>
Next: <a href="C_002b_002b-Formatted-Input.html" accesskey="n" rel="next">C++ Formatted Input</a>, Previous: <a href="Formatted-Input-Strings.html" accesskey="p" rel="prev">Formatted Input Strings</a>, Up: <a href="Formatted-Input.html" accesskey="u" rel="up">Formatted Input</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Formatted-Input-Functions-1">11.2 Formatted Input Functions</h3>
<a class="index-entry-id" id="index-Input-functions-3"></a>

<p>Each of the following functions is similar to the corresponding C library
function.  The plain <code class="code">scanf</code> forms take a variable argument list.  The
<code class="code">vscanf</code> forms take an argument pointer, see <a data-manual="libc" href="https://www.gnu.org/software/libc/manual/html_node/Variadic-Functions.html#Variadic-Functions">Variadic Functions</a> in <cite class="cite">The GNU C Library Reference Manual</cite>, or &lsquo;<samp class="samp">man 3
va_start</samp>&rsquo;.
</p>
<p>It should be emphasised that if a format string is invalid, or the arguments
don&rsquo;t match what the format specifies, then the behaviour of any of these
functions will be unpredictable.  GCC format string checking is not available,
since it doesn&rsquo;t recognise the GMP extensions.
</p>
<p>No overlap is permitted between the <var class="var">fmt</var> string and any of the results
produced.
</p>
<dl class="first-deftypefn first-deftypefun-alias-first-deftypefn">
<dt class="deftypefn deftypefun-alias-deftypefn" id="index-gmp_005fscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_scanf</strong> <code class="def-code-arguments">(const char *<var class="var">fmt</var>, &hellip;)</code><a class="copiable-link" href='#index-gmp_005fscanf'> &para;</a></span></dt>
<dt class="deftypefnx deftypefunx-alias-deftypefnx def-cmd-deftypefn" id="index-gmp_005fvscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_vscanf</strong> <code class="def-code-arguments">(const char *<var class="var">fmt</var>, va_list <var class="var">ap</var>)</code><a class="copiable-link" href='#index-gmp_005fvscanf'> &para;</a></span></dt>
<dd><p>Read from the standard input <code class="code">stdin</code>.
</p></dd></dl>

<dl class="first-deftypefn first-deftypefun-alias-first-deftypefn">
<dt class="deftypefn deftypefun-alias-deftypefn" id="index-gmp_005ffscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_fscanf</strong> <code class="def-code-arguments">(FILE *<var class="var">fp</var>, const char *<var class="var">fmt</var>, &hellip;)</code><a class="copiable-link" href='#index-gmp_005ffscanf'> &para;</a></span></dt>
<dt class="deftypefnx deftypefunx-alias-deftypefnx def-cmd-deftypefn" id="index-gmp_005fvfscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_vfscanf</strong> <code class="def-code-arguments">(FILE *<var class="var">fp</var>, const char *<var class="var">fmt</var>, va_list <var class="var">ap</var>)</code><a class="copiable-link" href='#index-gmp_005fvfscanf'> &para;</a></span></dt>
<dd><p>Read from the stream <var class="var">fp</var>.
</p></dd></dl>

<dl class="first-deftypefn first-deftypefun-alias-first-deftypefn">
<dt class="deftypefn deftypefun-alias-deftypefn" id="index-gmp_005fsscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_sscanf</strong> <code class="def-code-arguments">(const char *<var class="var">s</var>, const char *<var class="var">fmt</var>, &hellip;)</code><a class="copiable-link" href='#index-gmp_005fsscanf'> &para;</a></span></dt>
<dt class="deftypefnx deftypefunx-alias-deftypefnx def-cmd-deftypefn" id="index-gmp_005fvsscanf"><span class="category-def">Function: </span><span><code class="def-type">int</code> <strong class="def-name">gmp_vsscanf</strong> <code class="def-code-arguments">(const char *<var class="var">s</var>, const char *<var class="var">fmt</var>, va_list <var class="var">ap</var>)</code><a class="copiable-link" href='#index-gmp_005fvsscanf'> &para;</a></span></dt>
<dd><p>Read from a null-terminated string <var class="var">s</var>.
</p></dd></dl>

<p>The return value from each of these functions is the same as the standard C99
<code class="code">scanf</code>, namely the number of fields successfully parsed and stored.
&lsquo;<samp class="samp">%n</samp>&rsquo; fields and fields read but suppressed by &lsquo;<samp class="samp">*</samp>&rsquo; don&rsquo;t count
towards the return value.
</p>
<p>If end of input (or a file error) is reached before a character for a field or
a literal, and if no previous non-suppressed fields have matched, then the
return value is <code class="code">EOF</code> instead of 0.  A whitespace character in the format
string is only an optional match and doesn&rsquo;t induce an <code class="code">EOF</code> in this
fashion.  Leading whitespace read and discarded for a field don&rsquo;t count as
characters for that field.
</p>
<p>For the GMP types, input parsing follows C99 rules, namely one character of
lookahead is used and characters are read while they continue to meet the
format requirements.  If this doesn&rsquo;t provide a complete number then the
function terminates, with that field not stored nor counted towards the return
value.  For instance with <code class="code">mpf_t</code> an input &lsquo;<samp class="samp">1.23e-XYZ</samp>&rsquo; would be read
up to the &lsquo;<samp class="samp">X</samp>&rsquo; and that character pushed back since it&rsquo;s not a digit.  The
string &lsquo;<samp class="samp">1.23e-</samp>&rsquo; would then be considered invalid since an &lsquo;<samp class="samp">e</samp>&rsquo; must
be followed by at least one digit.
</p>
<p>For the standard C types, in the current implementation GMP calls the C
library <code class="code">scanf</code> functions, which might have looser rules about what
constitutes a valid input.
</p>
<p>Note that <code class="code">gmp_sscanf</code> is the same as <code class="code">gmp_fscanf</code> and only does one
character of lookahead when parsing.  Although clearly it could look at its
entire input, it is deliberately made identical to <code class="code">gmp_fscanf</code>, the same
way C99 <code class="code">sscanf</code> is the same as <code class="code">fscanf</code>.
</p>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="C_002b_002b-Formatted-Input.html">C++ Formatted Input</a>, Previous: <a href="Formatted-Input-Strings.html">Formatted Input Strings</a>, Up: <a href="Formatted-Input.html">Formatted Input</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
