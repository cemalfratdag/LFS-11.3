<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This manual describes how to install and use the GNU multiple precision
arithmetic library, version 6.2.1.

Copyright 1991, 1993-2016, 2018-2020 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual", and with the Back-Cover
Texts being "You have freedom to copy and modify this GNU Manual, like GNU
software".  A copy of the license is included in
GNU Free Documentation License. -->
<title>Notes for Particular Systems (GNU MP 6.2.1)</title>

<meta name="description" content="How to install and use the GNU multiple precision arithmetic library, version 6.2.1.">
<meta name="keywords" content="Notes for Particular Systems (GNU MP 6.2.1)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="Installing-GMP.html" rel="up" title="Installing GMP">
<link href="Known-Build-Problems.html" rel="next" title="Known Build Problems">
<link href="Notes-for-Package-Builds.html" rel="prev" title="Notes for Package Builds">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
pre.display-preformatted {font-family: inherit}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Notes-for-Particular-Systems">
<div class="nav-panel">
<p>
Next: <a href="Known-Build-Problems.html" accesskey="n" rel="next">Known Build Problems</a>, Previous: <a href="Notes-for-Package-Builds.html" accesskey="p" rel="prev">Notes for Package Builds</a>, Up: <a href="Installing-GMP.html" accesskey="u" rel="up">Installing GMP</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Notes-for-Particular-Systems-1">2.4 Notes for Particular Systems</h3>
<a class="index-entry-id" id="index-Build-notes-for-particular-systems"></a>
<a class="index-entry-id" id="index-Particular-systems"></a>
<a class="index-entry-id" id="index-Systems"></a>
<dl class="table">
<dt id='index-AIX-1'><span>AIX 3 and 4<a class="copiable-link" href='#index-AIX-1'> &para;</a></span></dt>
<dd><p>On systems &lsquo;<samp class="samp">*-*-aix[34]*</samp>&rsquo; shared libraries are disabled by default, since
some versions of the native <code class="command">ar</code> fail on the convenience libraries
used.  A shared build can be attempted with
</p>
<div class="example">
<pre class="example-preformatted">./configure --enable-shared --disable-static
</pre></div>

<p>Note that the &lsquo;<samp class="samp">--disable-static</samp>&rsquo; is necessary because in a shared build
libtool makes <samp class="file">libgmp.a</samp> a symlink to <samp class="file">libgmp.so</samp>, apparently for
the benefit of old versions of <code class="command">ld</code> which only recognise <samp class="file">.a</samp>,
but unfortunately this is done even if a fully functional <code class="command">ld</code> is
available.
</p>
</dd>
<dt id='index-ARM'><span>ARM<a class="copiable-link" href='#index-ARM'> &para;</a></span></dt>
<dd><p>On systems &lsquo;<samp class="samp">arm*-*-*</samp>&rsquo;, versions of GCC up to and including 2.95.3 have a
bug in unsigned division, giving wrong results for some operands.  GMP
&lsquo;<samp class="samp">./configure</samp>&rsquo; will demand GCC 2.95.4 or later.
</p>
</dd>
<dt id='index-Compaq-C_002b_002b'><span>Compaq C++<a class="copiable-link" href='#index-Compaq-C_002b_002b'> &para;</a></span></dt>
<dd><p>Compaq C++ on OSF 5.1 has two flavours of <code class="code">iostream</code>, a standard one and
an old pre-standard one (see &lsquo;<samp class="samp">man iostream_intro</samp>&rsquo;).  GMP can only use the
standard one, which unfortunately is not the default but must be selected by
defining <code class="code">__USE_STD_IOSTREAM</code>.  Configure with for instance
</p>
<div class="example">
<pre class="example-preformatted">./configure --enable-cxx CPPFLAGS=-D__USE_STD_IOSTREAM
</pre></div>

</dd>
<dt id='index-Floating-point-mode'><span>Floating Point Mode<a class="copiable-link" href='#index-Floating-point-mode'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-Hardware-floating-point-mode"></a>
<a class="index-entry-id" id="index-Precision-of-hardware-floating-point"></a>
<a class="index-entry-id" id="index-x87"></a>
<p>On some systems, the hardware floating point has a control mode which can set
all operations to be done in a particular precision, for instance single,
double or extended on x86 systems (x87 floating point).  The GMP functions
involving a <code class="code">double</code> cannot be expected to operate to their full
precision when the hardware is in single precision mode.  Of course this
affects all code, including application code, not just GMP.
</p>
</dd>
<dt id='index-FreeBSD'><span>FreeBSD 7.x, 8.x, 9.0, 9.1, 9.2<a class="copiable-link" href='#index-FreeBSD'> &para;</a></span></dt>
<dd><p><code class="command">m4</code> in these releases of FreeBSD has an eval function which ignores
its 2nd and 3rd arguments, which makes it unsuitable for <samp class="file">.asm</samp> file
processing.  &lsquo;<samp class="samp">./configure</samp>&rsquo; will detect the problem and either abort or
choose another m4 in the <code class="env">PATH</code>.  The bug is fixed in FreeBSD 9.3 and 10.0,
so either upgrade or use GNU m4.  Note that the FreeBSD package system installs
GNU m4 under the name &lsquo;<samp class="samp">gm4</samp>&rsquo;, which GMP cannot guess.
</p>
</dd>
<dt id='index-FreeBSD-1'><span>FreeBSD 7.x, 8.x, 9.x<a class="copiable-link" href='#index-FreeBSD-1'> &para;</a></span></dt>
<dd><p>GMP releases starting with 6.0 do not support &lsquo;<samp class="samp">ABI=32</samp>&rsquo; on FreeBSD/amd64
prior to release 10.0 of the system.  The cause is a broken <code class="code">limits.h</code>,
which GMP no longer works around.
</p>
</dd>
<dt id='index-MS_002dDOS'><span>MS-DOS and MS Windows<a class="copiable-link" href='#index-MS_002dDOS'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-MS-Windows"></a>
<a class="index-entry-id" id="index-Windows"></a>
<a class="index-entry-id" id="index-Cygwin"></a>
<a class="index-entry-id" id="index-DJGPP"></a>
<a class="index-entry-id" id="index-MINGW"></a>
<p>On an MS-DOS system DJGPP can be used to build GMP, and on an MS Windows
system Cygwin, DJGPP and MINGW can be used.  All three are excellent ports of
GCC and the various GNU tools.
</p>
<div class="display">
<pre class="display-preformatted"><a class="uref" href="https://www.cygwin.com/">https://www.cygwin.com/</a>
<a class="uref" href="http://www.delorie.com/djgpp/">http://www.delorie.com/djgpp/</a>
<a class="uref" href="http://www.mingw.org/">http://www.mingw.org/</a>
</pre></div>

<a class="index-entry-id" id="index-Interix"></a>
<a class="index-entry-id" id="index-Services-for-Unix"></a>
<p>Microsoft also publishes an Interix &ldquo;Services for Unix&rdquo; which can be used to
build GMP on Windows (with a normal &lsquo;<samp class="samp">./configure</samp>&rsquo;), but it&rsquo;s not free
software.
</p>
</dd>
<dt id='index-DLLs'><span>MS Windows DLLs<a class="copiable-link" href='#index-DLLs'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-MS-Windows-1"></a>
<a class="index-entry-id" id="index-Windows-1"></a>
<p>On systems &lsquo;<samp class="samp">*-*-cygwin*</samp>&rsquo;, &lsquo;<samp class="samp">*-*-mingw*</samp>&rsquo; and &lsquo;<samp class="samp">*-*-pw32*</samp>&rsquo; by
default GMP builds only a static library, but a DLL can be built instead using
</p>
<div class="example">
<pre class="example-preformatted">./configure --disable-static --enable-shared
</pre></div>

<p>Static and DLL libraries can&rsquo;t both be built, since certain export directives
in <samp class="file">gmp.h</samp> must be different.
</p>
<p>A MINGW DLL build of GMP can be used with Microsoft C.  Libtool doesn&rsquo;t
install a <samp class="file">.lib</samp> format import library, but it can be created with MS
<code class="command">lib</code> as follows, and copied to the install directory.  Similarly for
<samp class="file">libmp</samp> and <samp class="file">libgmpxx</samp>.
</p>
<div class="example">
<pre class="example-preformatted">cd .libs
lib /def:libgmp-3.dll.def /out:libgmp-3.lib
</pre></div>

<p>MINGW uses the C runtime library &lsquo;<samp class="samp">msvcrt.dll</samp>&rsquo; for I/O, so applications
wanting to use the GMP I/O routines must be compiled with &lsquo;<samp class="samp">cl /MD</samp>&rsquo; to do
the same.  If one of the other C runtime library choices provided by MS C is
desired then the suggestion is to use the GMP string functions and confine I/O
to the application.
</p>
</dd>
<dt id='index-68000'><span>Motorola 68k CPU Types<a class="copiable-link" href='#index-68000'> &para;</a></span></dt>
<dd><p>&lsquo;<samp class="samp">m68k</samp>&rsquo; is taken to mean 68000.  &lsquo;<samp class="samp">m68020</samp>&rsquo; or higher will give a
performance boost on applicable CPUs.  &lsquo;<samp class="samp">m68360</samp>&rsquo; can be used for CPU32
series chips.  &lsquo;<samp class="samp">m68302</samp>&rsquo; can be used for &ldquo;Dragonball&rdquo; series chips,
though this is merely a synonym for &lsquo;<samp class="samp">m68000</samp>&rsquo;.
</p>
</dd>
<dt id='index-NetBSD'><span>NetBSD 5.x<a class="copiable-link" href='#index-NetBSD'> &para;</a></span></dt>
<dd><p><code class="command">m4</code> in these releases of NetBSD has an eval function which ignores its
2nd and 3rd arguments, which makes it unsuitable for <samp class="file">.asm</samp> file
processing.  &lsquo;<samp class="samp">./configure</samp>&rsquo; will detect the problem and either abort or
choose another m4 in the <code class="env">PATH</code>.  The bug is fixed in NetBSD 6, so either
upgrade or use GNU m4.  Note that the NetBSD package system installs GNU m4
under the name &lsquo;<samp class="samp">gm4</samp>&rsquo;, which GMP cannot guess.
</p>
</dd>
<dt id='index-OpenBSD'><span>OpenBSD 2.6<a class="copiable-link" href='#index-OpenBSD'> &para;</a></span></dt>
<dd><p><code class="command">m4</code> in this release of OpenBSD has a bug in <code class="code">eval</code> that makes it
unsuitable for <samp class="file">.asm</samp> file processing.  &lsquo;<samp class="samp">./configure</samp>&rsquo; will detect
the problem and either abort or choose another m4 in the <code class="env">PATH</code>.  The bug
is fixed in OpenBSD 2.7, so either upgrade or use GNU m4.
</p>
</dd>
<dt id='index-Power_002fPowerPC'><span>Power CPU Types<a class="copiable-link" href='#index-Power_002fPowerPC'> &para;</a></span></dt>
<dd><p>In GMP, CPU types &lsquo;<samp class="samp">power*</samp>&rsquo; and &lsquo;<samp class="samp">powerpc*</samp>&rsquo; will each use instructions
not available on the other, so it&rsquo;s important to choose the right one for the
CPU that will be used.  Currently GMP has no assembly code support for using
just the common instruction subset.  To get executables that run on both, the
current suggestion is to use the generic C code (<samp class="option">--disable-assembly</samp>),
possibly with appropriate compiler options (like &lsquo;<samp class="samp">-mcpu=common</samp>&rsquo; for
<code class="command">gcc</code>).  CPU &lsquo;<samp class="samp">rs6000</samp>&rsquo; (which is not a CPU but a family of
workstations) is accepted by <samp class="file">config.sub</samp>, but is currently equivalent to
<samp class="option">--disable-assembly</samp>.
</p>
</dd>
<dt id='index-Sparc'><span>Sparc CPU Types<a class="copiable-link" href='#index-Sparc'> &para;</a></span></dt>
<dd><p>&lsquo;<samp class="samp">sparcv8</samp>&rsquo; or &lsquo;<samp class="samp">supersparc</samp>&rsquo; on relevant systems will give a
significant performance increase over the V7 code selected by plain
&lsquo;<samp class="samp">sparc</samp>&rsquo;.
</p>
</dd>
<dt id='index-Sparc-1'><span>Sparc App Regs<a class="copiable-link" href='#index-Sparc-1'> &para;</a></span></dt>
<dd><p>The GMP assembly code for both 32-bit and 64-bit Sparc clobbers the
&ldquo;application registers&rdquo; <code class="code">g2</code>, <code class="code">g3</code> and <code class="code">g4</code>, the same way
that the GCC default &lsquo;<samp class="samp">-mapp-regs</samp>&rsquo; does (see <a data-manual="gcc" href="https://gcc.gnu.org/onlinedocs/gcc/SPARC-Options.html#SPARC-Options">SPARC
Options</a> in <cite class="cite">Using the GNU Compiler Collection (GCC)</cite>).
</p>
<p>This makes that code unsuitable for use with the special V9
&lsquo;<samp class="samp">-mcmodel=embmedany</samp>&rsquo; (which uses <code class="code">g4</code> as a data segment pointer), and
for applications wanting to use those registers for special purposes.  In these
cases the only suggestion currently is to build GMP with
<samp class="option">--disable-assembly</samp> to avoid the assembly code.
</p>
</dd>
<dt id='index-SunOS'><span>SunOS 4<a class="copiable-link" href='#index-SunOS'> &para;</a></span></dt>
<dd><p><code class="command">/usr/bin/m4</code> lacks various features needed to process <samp class="file">.asm</samp>
files, and instead &lsquo;<samp class="samp">./configure</samp>&rsquo; will automatically use
<code class="command">/usr/5bin/m4</code>, which we believe is always available (if not then use
GNU m4).
</p>
</dd>
<dt id='index-x86'><span>x86 CPU Types<a class="copiable-link" href='#index-x86'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-80x86"></a>
<a class="index-entry-id" id="index-i386"></a>
<p>&lsquo;<samp class="samp">i586</samp>&rsquo;, &lsquo;<samp class="samp">pentium</samp>&rsquo; or &lsquo;<samp class="samp">pentiummmx</samp>&rsquo; code is good for its intended
P5 Pentium chips, but quite slow when run on Intel P6 class chips (PPro, P-II,
P-III).  &lsquo;<samp class="samp">i386</samp>&rsquo; is a better choice when making binaries that must run on
both.
</p>
</dd>
<dt id='index-MMX'><span>x86 MMX and SSE2 Code<a class="copiable-link" href='#index-MMX'> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-SSE2"></a>
<p>If the CPU selected has MMX code but the assembler doesn&rsquo;t support it, a
warning is given and non-MMX code is used instead.  This will be an inferior
build, since the MMX code that&rsquo;s present is there because it&rsquo;s faster than the
corresponding plain integer code.  The same applies to SSE2.
</p>
<p>Old versions of &lsquo;<samp class="samp">gas</samp>&rsquo; don&rsquo;t support MMX instructions, in particular
version 1.92.3 that comes with FreeBSD 2.2.8 or the more recent OpenBSD 3.1
doesn&rsquo;t.
</p>
<p>Solaris 2.6 and 2.7 <code class="command">as</code> generate incorrect object code for register
to register <code class="code">movq</code> instructions, and so can&rsquo;t be used for MMX code.
Install a recent <code class="command">gas</code> if MMX code is wanted on these systems.
</p></dd>
</dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Known-Build-Problems.html">Known Build Problems</a>, Previous: <a href="Notes-for-Package-Builds.html">Notes for Package Builds</a>, Up: <a href="Installing-GMP.html">Installing GMP</a> &nbsp; [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
