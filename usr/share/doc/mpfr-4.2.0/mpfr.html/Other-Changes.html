<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This manual documents how to install and use the Multiple Precision
Floating-Point Reliable Library, version 4.2.0.

Copyright 1991, 1993-2023 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with no Front-Cover Texts, and with no Back-Cover Texts.  A copy of the
license is included in GNU Free Documentation License. -->
<title>Other Changes (GNU MPFR 4.2.0)</title>

<meta name="description" content="How to install and use GNU MPFR, a library for reliable multiple precision
floating-point arithmetic, version 4.2.0.">
<meta name="keywords" content="Other Changes (GNU MPFR 4.2.0)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="API-Compatibility.html" rel="up" title="API Compatibility">
<link href="Removed-Functions.html" rel="prev" title="Removed Functions">
<style type="text/css">
<!--
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Other-Changes">
<div class="nav-panel">
<p>
Previous: <a href="Removed-Functions.html" accesskey="p" rel="prev">Removed Functions</a>, Up: <a href="API-Compatibility.html" accesskey="u" rel="up">API Compatibility</a>   [<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Other-Changes-1">6.5 Other Changes</h3>

<p>For users of a C++ compiler, the way how the availability of <code class="code">intmax_t</code>
is detected has changed in MPFR 3.0.
In MPFR 2.x, if a macro <code class="code">INTMAX_C</code> or <code class="code">UINTMAX_C</code> was defined
(e.g. when the <code class="code">__STDC_CONSTANT_MACROS</code> macro had been defined
before <code class="code">&lt;stdint.h&gt;</code> or <code class="code">&lt;inttypes.h&gt;</code> has been included),
<code class="code">intmax_t</code> was assumed to be defined.
However, this was not always the case (more precisely, <code class="code">intmax_t</code>
can be defined only in the namespace <code class="code">std</code>, as with Boost), so
that compilations could fail.
Thus the check for <code class="code">INTMAX_C</code> or <code class="code">UINTMAX_C</code> is now disabled for
C++ compilers, with the following consequences:
</p>
<ul class="itemize mark-bullet">
<li>Programs written for MPFR 2.x that need <code class="code">intmax_t</code> may no
longer be compiled against MPFR 3.0: a <code class="code">#define MPFR_USE_INTMAX_T</code>
may be necessary before <samp class="file">mpfr.h</samp> is included.

</li><li>The compilation of programs that work with MPFR 3.0 may fail with
MPFR 2.x due to the problem described above.  Workarounds are possible,
such as defining <code class="code">intmax_t</code> and <code class="code">uintmax_t</code> in the global
namespace, though this is not clean.

</li></ul>

<p>The divide-by-zero exception is new in MPFR 3.1. However, it should
not introduce incompatible changes for programs that strictly follow
the MPFR API since the exception can only be seen via new functions.
</p>
<p>As of MPFR 3.1, the <samp class="file">mpfr.h</samp> header can be included several times,
while still supporting optional functions (see <a class="pxref" href="Headers-and-Libraries.html">Headers and Libraries</a>).
</p>
<p>The way memory is allocated by MPFR should be regarded as well-specified
only as of MPFR 4.0.
</p>
</div>



</body>
</html>
