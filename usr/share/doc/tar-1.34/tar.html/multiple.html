<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 
This manual is for GNU tar (version
1.34, 4 February 2021), which creates and extracts files
from archives.

Copyright Â© 1992, 1994-1997, 1999-2001, 2003-2017, 2021
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." -->
<title>multiple (GNU tar 1.34)</title>

<meta name="description" content="multiple (GNU tar 1.34)">
<meta name="keywords" content="multiple (GNU tar 1.34)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index-of-Command-Line-Options.html" rel="index" title="Index of Command Line Options">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="append.html" rel="up" title="append">
<link href="appending-files.html" rel="prev" title="appending files">
<style type="text/css">
<!--
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="multiple">
<div class="nav-panel">
<p>
Previous: <a href="appending-files.html" accesskey="p" rel="prev">Appending Files to an Archive</a>, Up: <a href="append.html" accesskey="u" rel="up">How to Add Files to Existing Archives: <samp class="option">--append</samp></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index-of-Command-Line-Options.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Multiple-Members-with-the-Same-Name">4.2.2.2 Multiple Members with the Same Name</h4>
<a class="index-entry-id" id="index-members_002c-multiple"></a>
<a class="index-entry-id" id="index-multiple-members"></a>

<p>You can use <samp class="option">--append</samp> (<samp class="option">-r</samp>) to add copies of files
which have been updated since the archive was created.  (However, we
do not recommend doing this since there is another <code class="command">tar</code>
option called <samp class="option">--update</samp>; See <a class="xref" href="update.html">Updating an Archive</a>, for more information.
We describe this use of <samp class="option">--append</samp> here for the sake of
completeness.)  When you extract the archive, the older version will
be effectively lost.  This works because files are extracted from an
archive in the order in which they were archived.  Thus, when the
archive is extracted, a file archived later in time will replace a
file of the same name which was archived earlier, even though the
older version of the file will remain in the archive unless you delete
all versions of the file.
</p>
<p>Supposing you change the file <samp class="file">blues</samp> and then append the changed
version to <samp class="file">collection.tar</samp>.  As you saw above, the original
<samp class="file">blues</samp> is in the archive <samp class="file">collection.tar</samp>.  If you change the
file and append the new version of the file to the archive, there will
be two copies in the archive.  When you extract the archive, the older
version of the file will be extracted first, and then replaced by the
newer version when it is extracted.
</p>
<p>You can append the new, changed copy of the file <samp class="file">blues</samp> to the
archive in this way:
</p>
<div class="example smallexample">
<pre class="example-preformatted">$ <kbd class="kbd">tar --append --verbose --file=collection.tar blues</kbd>
blues
</pre></div>

<p>Because you specified the <samp class="option">--verbose</samp> option, <code class="command">tar</code> has
printed the name of the file being appended as it was acted on.  Now
list the contents of the archive:
</p>
<div class="example smallexample">
<pre class="example-preformatted">$ <kbd class="kbd">tar --list --verbose --file=collection.tar</kbd>
-rw-r--r-- me/user          28 1996-10-18 16:31 jazz
-rw-r--r-- me/user          21 1996-09-23 16:44 blues
-rw-r--r-- me/user          20 1996-09-23 16:44 folk
-rw-r--r-- me/user          20 1996-09-23 16:44 rock
-rw-r--r-- me/user          58 1996-10-24 18:30 blues
</pre></div>

<p>The newest version of <samp class="file">blues</samp> is now at the end of the archive
(note the different creation dates and file sizes).  If you extract
the archive, the older version of the file <samp class="file">blues</samp> will be
replaced by the newer version.  You can confirm this by extracting
the archive and running &lsquo;<samp class="samp">ls</samp>&rsquo; on the directory.
</p>
<p>If you wish to extract the first occurrence of the file <samp class="file">blues</samp>
from the archive, use <samp class="option">--occurrence</samp> option, as shown in
the following example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">$ <kbd class="kbd">tar --extract -vv --occurrence --file=collection.tar blues</kbd>
-rw-r--r-- me/user          21 1996-09-23 16:44 blues
</pre></div>

<p>See <a class="xref" href="Writing.html">Changing How <code class="command">tar</code> Writes Files</a>, for more information on <samp class="option">--extract</samp> and
see <a class="ref" href="Option-Summary.html">&ndash;occurrence</a>, for a description of
<samp class="option">--occurrence</samp> option.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="appending-files.html">Appending Files to an Archive</a>, Up: <a href="append.html">How to Add Files to Existing Archives: <samp class="option">--append</samp></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index-of-Command-Line-Options.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
