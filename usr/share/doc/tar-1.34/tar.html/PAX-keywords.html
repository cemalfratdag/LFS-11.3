<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 
This manual is for GNU tar (version
1.34, 4 February 2021), which creates and extracts files
from archives.

Copyright Â© 1992, 1994-1997, 1999-2001, 2003-2017, 2021
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." -->
<title>PAX keywords (GNU tar 1.34)</title>

<meta name="description" content="PAX keywords (GNU tar 1.34)">
<meta name="keywords" content="PAX keywords (GNU tar 1.34)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index-of-Command-Line-Options.html" rel="index" title="Index of Command Line Options">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="posix.html" rel="up" title="posix">
<style type="text/css">
<!--
div.example {margin-left: 3.2em}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="PAX-keywords">
<div class="nav-panel">
<p>
Up: <a href="posix.html" accesskey="u" rel="up"><abbr class="acronym">GNU</abbr> <code class="command">tar</code> and <abbr class="acronym">POSIX</abbr> <code class="command">tar</code></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index-of-Command-Line-Options.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Controlling-Extended-Header-Keywords">8.3.7.1 Controlling Extended Header Keywords</h4>

<dl class="table">
<dd><a class="index-entry-id" id="index-pax_002doption"></a>
</dd>
<dt><samp class="option">--pax-option=<var class="var">keyword-list</var></samp></dt>
<dd><p>Handle keywords in <abbr class="acronym">PAX</abbr> extended headers.  This option is
equivalent to <samp class="option">-o</samp> option of the <code class="command">pax</code> utility.
</p></dd>
</dl>

<p><var class="var">Keyword-list</var> is a comma-separated
list of keyword options, each keyword option taking one of
the following forms:
</p>
<dl class="table">
<dt><code class="code">delete=<var class="var">pattern</var></code></dt>
<dd><p>When used with one of archive-creation commands,
this option instructs <code class="command">tar</code> to omit from extended header records
that it produces any keywords matching the string <var class="var">pattern</var>.
</p>
<p>When used in extract or list mode, this option instructs tar
to ignore any keywords matching the given <var class="var">pattern</var> in the extended
header records.  In both cases, matching is performed using the pattern
matching notation described in <abbr class="acronym">POSIX 1003.2</abbr>, 3.13
(see <a class="pxref" href="wildcards.html">Wildcards Patterns and Matching</a>).  For example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">--pax-option delete=security.*
</pre></div>

<p>would suppress security-related information.
</p>
</dd>
<dt><code class="code">exthdr.name=<var class="var">string</var></code></dt>
<dd>
<p>This keyword allows user control over the name that is written into the
ustar header blocks for the extended headers.  The name is obtained
from <var class="var">string</var> after making the following substitutions:
</p>
<table class="multitable">
<thead><tr><th width="25%">Meta-character</th><th width="55%">Replaced By</th></tr></thead>
<tbody><tr><td width="25%">%d</td><td width="55%">The directory name of the file, equivalent to the
result of the <code class="command">dirname</code> utility on the translated file name.</td></tr>
<tr><td width="25%">%f</td><td width="55%">The name of the file with the directory information
stripped, equivalent to the result of the <code class="command">basename</code> utility
on the translated file name.</td></tr>
<tr><td width="25%">%p</td><td width="55%">The process <abbr class="acronym">ID</abbr> of the <code class="command">tar</code> process.</td></tr>
<tr><td width="25%">%%</td><td width="55%">A &lsquo;<samp class="samp">%</samp>&rsquo; character.</td></tr>
</tbody>
</table>

<p>Any other &lsquo;<samp class="samp">%</samp>&rsquo; characters in <var class="var">string</var> produce undefined
results.
</p>
<p>If no option &lsquo;<samp class="samp">exthdr.name=string</samp>&rsquo; is specified, <code class="command">tar</code>
will use the following default value:
</p>
<div class="example smallexample">
<pre class="example-preformatted">%d/PaxHeaders/%f
</pre></div>

<p>This default is selected to ensure the reproducibility of the
archive. <abbr class="acronym">POSIX</abbr> standard recommends to use
&lsquo;<samp class="samp">%d/PaxHeaders.%p/%f</samp>&rsquo; instead, which means the two archives
created with the same set of options and containing the same set
of files will be byte-to-byte different. This default will be used
if the environment variable <code class="env">POSIXLY_CORRECT</code> is set.
</p>
</dd>
<dt><code class="code">exthdr.mtime=<var class="var">value</var></code></dt>
<dd>
<p>This keyword defines the value of the &lsquo;<samp class="samp">mtime</samp>&rsquo; field that
is written into the ustar header blocks for the extended headers.
By default, the &lsquo;<samp class="samp">mtime</samp>&rsquo; field is set to the modification time
of the archive member described by that extended header (or to the
value of the <samp class="option">--mtime</samp> option, if supplied).
</p>
</dd>
<dt><code class="code">globexthdr.name=<var class="var">string</var></code></dt>
<dd><p>This keyword allows user control over the name that is written into
the ustar header blocks for global extended header records.  The name
is obtained from the contents of <var class="var">string</var>, after making
the following substitutions:
</p>
<table class="multitable">
<thead><tr><th width="25%">Meta-character</th><th width="55%">Replaced By</th></tr></thead>
<tbody><tr><td width="25%">%n</td><td width="55%">An integer that represents the
sequence number of the global extended header record in the archive,
starting at 1.</td></tr>
<tr><td width="25%">%p</td><td width="55%">The process <abbr class="acronym">ID</abbr> of the <code class="command">tar</code> process.</td></tr>
<tr><td width="25%">%%</td><td width="55%">A &lsquo;<samp class="samp">%</samp>&rsquo; character.</td></tr>
</tbody>
</table>

<p>Any other &lsquo;<samp class="samp">%</samp>&rsquo; characters in <var class="var">string</var> produce undefined results.
</p>
<p>If no option &lsquo;<samp class="samp">globexthdr.name=string</samp>&rsquo; is specified, <code class="command">tar</code>
will use the following default value:
</p>
<div class="example smallexample">
<pre class="example-preformatted">$TMPDIR/GlobalHead.%n
</pre></div>

<p>If the environment variable <code class="env">POSIXLY_CORRECT</code> is set, the
following value is used instead:
</p>
<div class="example smallexample">
<pre class="example-preformatted">$TMPDIR/GlobalHead.%p.%n
</pre></div>

<p>In both cases, &lsquo;<samp class="samp">$TMPDIR</samp>&rsquo; stands for the value of the <var class="var">TMPDIR</var>
environment variable.  If <var class="var">TMPDIR</var> is not set, <code class="command">tar</code>
uses &lsquo;<samp class="samp">/tmp</samp>&rsquo;.
</p>
</dd>
<dt><code class="code">globexthdr.mtime=<var class="var">value</var></code></dt>
<dd>
<p>This keyword defines the value of the &lsquo;<samp class="samp">mtime</samp>&rsquo; field that
is written into the ustar header blocks for the global extended headers.
By default, the &lsquo;<samp class="samp">mtime</samp>&rsquo; field is set to the time when
<code class="command">tar</code> was invoked.
</p>
</dd>
<dt><code class="code"><var class="var">keyword</var>=<var class="var">value</var></code></dt>
<dd><p>When used with one of archive-creation commands, these keyword/value pairs
will be included at the beginning of the archive in a global extended
header record.  When used with one of archive-reading commands,
<code class="command">tar</code> will behave as if it has encountered these keyword/value
pairs at the beginning of the archive in a global extended header
record.
</p>
</dd>
<dt><code class="code"><var class="var">keyword</var>:=<var class="var">value</var></code></dt>
<dd><p>When used with one of archive-creation commands, these keyword/value pairs
will be included as records at the beginning of an extended header for
each file.  This is effectively equivalent to <var class="var">keyword</var>=<var class="var">value</var>
form except that it creates no global extended header records.
</p>
<p>When used with one of archive-reading commands, <code class="command">tar</code> will
behave as if these keyword/value pairs were included as records at the
end of each extended header; thus, they will override any global or
file-specific extended header record keywords of the same names.
For example, in the command:
</p>
<div class="example smallexample">
<pre class="example-preformatted">tar --format=posix --create \
    --file archive --pax-option gname:=user .
</pre></div>

<p>the group name will be forced to a new value for all files
stored in the archive.
</p></dd>
</dl>

<p>In any of the forms described above, the <var class="var">value</var> may be
a string enclosed in curly braces.  In that case, the string
between the braces is understood either as a textual time
representation, as described in <a class="ref" href="Date-input-formats.html">Date input formats</a>, or a name of
the existing file, starting with &lsquo;<samp class="samp">/</samp>&rsquo; or &lsquo;<samp class="samp">.</samp>&rsquo;.  In the latter
case, the modification time of that file is used.
</p>
<p>For example, to set all modification times to the current date, you
use the following option:
</p>
<div class="example smallexample">
<pre class="example-preformatted">--pax-option='mtime:={now}'
</pre></div>

<p>Note quoting of the option&rsquo;s argument.
</p>
<a class="index-entry-id" id="index-archives_002c-binary-equivalent"></a>
<a class="index-entry-id" id="index-binary-equivalent-archives_002c-creating"></a>
<p>As another example, here is the option that ensures that any two
archives created using it, will be binary equivalent if they have the
same contents:
</p>
<div class="example smallexample">
<pre class="example-preformatted">--pax-option=atime:=0
</pre></div>

<p>If you extract files from such an archive and recreate the archive
from them, you will also need to eliminate changes due to ctime, as
shown in examples below:
</p>
<div class="example smallexample">
<pre class="example-preformatted">--pax-option=atime:=0,ctime:=0
</pre></div>

<p>or
</p>
<div class="example smallexample">
<pre class="example-preformatted">--pax-option=atime:=0,delete=ctime
</pre></div>

<p>Notice, that if you create an archive in POSIX format (see <a class="pxref" href="posix.html"><abbr class="acronym">GNU</abbr> <code class="command">tar</code> and <abbr class="acronym">POSIX</abbr> <code class="command">tar</code></a>)
and the environment variable <code class="env">POSIXLY_CORRECT</code> is set, then the
two archives created using the same options on the same set of files
will not be byte-to-byte equivalent even with the above option.  This
is because the posix default for extended header names includes the
PID of the tar process, which is different at each run. To produce
byte-to-byte equivalent archives in this case, either unset
<code class="env">POSIXLY_CORRECT</code>, or use the following option:
</p>
<div class="example smallexample">
<pre class="example-preformatted">---pax-option=exthdr.name=%d/PaxHeaders/%f,atime:=0,ctime:=0
</pre></div>

</div>
<hr>
<div class="nav-panel">
<p>
Up: <a href="posix.html"><abbr class="acronym">GNU</abbr> <code class="command">tar</code> and <abbr class="acronym">POSIX</abbr> <code class="command">tar</code></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index-of-Command-Line-Options.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
